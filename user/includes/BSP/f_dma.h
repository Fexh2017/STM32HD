#ifndef __F_DMA_H__
#define __F_DMA_H__

#include "stm32f10x.h"                  // Device header

/*DMA通道分配表
----------------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+
		DMA1	|	CH1		|	CH2		|	CH3		|	CH4		|	CH5		|	CH6		|	CH7		|
----------------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+
ADC		ADC1	|ADC1		|			|			|			|			|			|			|
----------------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+
SPI		SPI1	|			|SPI1_RX	|SPI1_TX	|			|			|			|			|
		SPI2	|			|			|			|SPI2_RX	|SPI2_TX	|			|			|
----------------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+
USART	USART1	|			|			|			|USART1_TX	|USART1_RX	|			|			|
		USART2	|			|			|			|			|			|USART2_TX	|USART2_RX	|
		USART3	|			|USART3_TX	|USART3_RX	|			|			|			|			|
----------------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+
I2C		I2C1	|			|			|			|			|			|I2C1_TX	|	I2C1_RX	|
		I2C2	|			|			|			|I2C2_TX	|	I2C2_RX	|			|			|
----------------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+
TIM		TIM1	|			|TIM1_CH1	|TIM1_CH2	|TIM1_CH4	|TIM1_UP	|	TIM1_CH3|			|
				|			|			|			|TIM1_TRIG	|			|			|			|
				|			|			|			|TIM1_COM	|			|			|			|
		TIM2	|TIM2_CH3	|TIM2_UP	|			|			|TIM2_CH1	|			|TIM2_CH2	|
				|			|			|			|			|			|			|TIM2_CH4	|
		TIM3	|			|TIM3_CH3	|TIM3_CH4	|			|TIM3_CH1	|			|			|
				|			|			|TIM3_UP	|			|TIM3_TRIG	|			|			|
		TIM4	|TIM4_CH1	|			|			|TIM4_CH2	|TIM4_CH3	|			|TIM4_UP	|
----------------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+

----------------+-----------+-----------+-----------+-----------+-----------+
		DMA2	|	CH1		|	CH2		|	CH3		|	CH4		|	CH5		|
----------------+-----------+-----------+-----------+-----------+-----------+
ADC		ADC3	|   		|			|			|			|ADC3		|
----------------+-----------+-----------+-----------+-----------+-----------+
SPI/I2S	SPI/I2S3|SPI/I2S3_RX|SPI/I2S3_TX|       	|			|			|
----------------+-----------+-----------+-----------+-----------+-----------+
UART	UART4	|			|			|UART4_RX	|			|UART4_TX	|
----------------+-----------+-----------+-----------+-----------+-----------+
SDIO	SDIO	|			|			|			|SDIO		|			|
----------------+-----------+-----------+-----------+-----------+-----------+
DAC		DAC		|			|			|DAC_CH1	|DAC_CH2	|			|
----------------+-----------+-----------+-----------+-----------+-----------+
TIM		TIM5	|TIM5_CH4	|TIM5_CH3	|			|TIM5_CH2	|TIM5_CH1	|
				|TIM5_TRIG	|TIM5_UP	|			|			|			|
		TIM6	|			|			|TIM6_UP	|			|			|
		TIM7	|			|			|			|TIM7_UP	|			|
		TIM8	|TIM8_CH3	|TIM8_CH4	|TIM8_CH1	|			|TIM8_CH2	|
				|TIM8_UP	|TIM8_TRIG	|			|			|			|
				|			|TIM8_COM	|			|			|			|
----------------+-----------+-----------+-----------+-----------+-----------+
*/

void f_dma_init(u32 from,u32 to,u32 size,DMA_Channel_TypeDef* channel);
void f_dma_it_config(DMA_Channel_TypeDef* DMA_Channel, int IRQPriority, void (*fun)(void));

#endif
